I'm not sure how to do it for software, but for novels it should be easy
to fingerprint.  Every couple of pages the author writes a sentence twice
in different forms.  This would not take a great deal of extra effort on
the part of the author.  Software can then choose from the alternative
variations in different patterns to produce a unique fingerprint for
every copy.

There would seem to be two approaches to removing the fingerprint.
One would be re-writing every sentence in the novel.  The other would be
to collect enough copies to identify all of the sentences which have
variations.  Most of the mathematics of fingerprinting research is
oriented around figuring out how many different points of variation there
must be to be secure against a certain number of copies of the
fingerprinted item being compared.

Perhaps a similar approach could be applied to software, where in many
cases a couple of statements could be trivially interchanged, or other
kinds of simple transformations could be manually generated.  Those
could be marked by the programmers without too much extra work.

I agree with Doug that fully automated fingerprinting schemes which post
process "vanilla" documents are going to be forced to rely on security
through obscurity, probably a losing battle.  Also as Doug says the
viability of legal sanctions against the source of fingerprinted docs is
questionable.  Maybe it could work if you had just a few copies out and
the people who were given copies can be seriously held to non-disclosure
agreements.