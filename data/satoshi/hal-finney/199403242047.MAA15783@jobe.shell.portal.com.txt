The notion of a "cryptographically tamperproof software module" is interesting,
but I'm not sure such a thing exists or could exist.  The secure offline cash
systems I have seen rely on tamper-resistant HARDWARE modules which at least
exist although this requirement would be very inconvenient.


Again, I don't know how you handle the case of two almost-simultaneous
attempts to redeem the same note (or piece of cash).  Both notes are
identical, so having the two notes gives you no more information than
having just one, hence if one note is anonymous so will two be.  You know
someone is cheating in this situation, but who?  One of the redeemers may
have stolen a copy of the cash from the other; the two redeemers may be
working together; or the note maker may be working with one of the redeemers
having slipped them a copy of the note as soon as it was presented for
redemption.  How can a court decide who is right?

Maybe the answer is simply to handle this as a my-word-against-yours kind of
case, where reputations and histories of such conflicts would help decide
who is likely to be telling the truth.