Note that Wei Dai [also had this idea](http://lesswrong.com/lw/nc/newcombs_problem_and_regret_of_rationality/1265). 